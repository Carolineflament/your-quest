{% extends 'backoffice/back_base.html.twig' %}

{% block title %}Instance {{ instance.title }} du jeu {{ game.title }}{% endblock %}

{% block back_body %}
    {{ include('front/_notice_message.html.twig') }}

    <div class="d-flex flex-column align-items-end">
        {% if "now"|date('d-m-Y H:i:s') > instance.startAt|date('d-m-Y H:i:s') and "now"|date('d-m-Y H:i:s') < instance.endAt|date('d-m-Y H:i:s') %}
        {# {% if "now"|date('Y-m-d') > instance.startAt|date('Y-m-d') and "now"|date('Y-m-d') < instance.endAt|date('Y-m-d') %} #}
            <a href="{{ path('app_front_instance_realtime', {'gameSlug': game.slug, 'instanceSlug': instance.slug}) }}" class="btn btn-primary mb-4">Voir les positions des joueurs</a>

        {% else %}
        <a href="{{ path('app_front_instance_score', {'gameSlug' : game.slug, 'instanceSlug' : instance.slug}) }}" class="btn btn-primary mb-4">Voir les scores</a>

        {% endif %}


        <a href="{{ path('app_backoffice_instance_index', {'gameSlug': game.slug}) }}"  class="btn btn-outline-secondary btn-sm">Retourner à la liste</a>
    </div>

    <div class="clearfix"></div>

    <table class="table">
        <tbody>
            <tr>
                <th>Nom de l'instance</th>
                <td>{{ instance.title }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ instance.message }}</td>
            </tr>
            <tr>
                <th>Date de début</th>
                <td>{{ instance.startAt ? instance.startAt|date('d-m-Y H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>Date de fin</th>
                <td>{{ instance.endAt ? instance.endAt|date('d-m-Y H:i:s') : '' }}</td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('app_backoffice_instance_edit', {'instanceSlug': instance.slug}) }}" class="btn btn-primary mb-2">Modifier</a>

    {{ include('backoffice/instance/_delete_form.html.twig') }}
{% endblock %}
