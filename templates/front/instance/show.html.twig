{% extends 'base.html.twig' %}

{% block title %}{{ instance.title }}{% endblock %}

{% block body %}
    {{ include('_header_start.html.twig', {'title': instance.title}) }}

    <!-- Feature Start -->
    <div class="container-fluid bg-light px-lg-0" style="margin: 0 0 4rem 0;">
        <div class="container feature px-lg-0">
            <div class="row g-0 mx-lg-0">
                <div class="col-lg-6 feature-text py-5 wow fadeIn" data-wow-delay="0.5s">
                    <div class="p-lg-5 ps-lg-0">
                        <div class="section-title text-start">
                            <h1 class="display-5 mb-4">{{instance.title}}</h1>
                        </div>
                        <p class="mb-4 pb-2">
                            {{ instance.message | nl2br }}
                            {% if  "now"|date('c') > instance.startAt|date('c') and "now"|date('c') > instance.endAt|date('c') %}
                                <p>Cette instance a débutée le {{ instance.startAt|date('d-m-Y à H:i:s')}} et s'est terminée le {{ instance.endAt|date('d-m-Y à H:i:s')}}
                                </p>

                            {% else %}
                                <p>Cette instance débute le {{ instance.startAt|date('d-m-Y à H:i:s')}} et se termine le {{ instance.endAt|date('d-m-Y à H:i:s')}}

                            {% endif %}

                            <div class="d-grid gap-2 justify-content-md-center">
                                {% if "now"|date('c') > instance.startAt|date('c') and "now"|date('c') < instance.endAt|date('c') %}
                                    <a href="{{ path('app_front_instance_realtime', {'gameSlug' : instance.game.slug, 'instanceSlug' : instance.slug}) }}" class="btn btn-primary mb-4">Voir les positions des joueurs</a>
                            
                                {% else %}
                                    <a href="{{ path('app_front_instance_score', {'gameSlug' : instance.game.slug, 'instanceSlug' : instance.slug}) }}" class="btn btn-primary mb-4">Voir les scores</a>

                                {% endif %}
                            </div>
                        </p>
                    </div>
                </div>
                <div class="col-lg-6 pe-lg-0" style="min-height: 200px;">
                    <div class="position-relative h-100">
                        <img class="position-absolute img-fluid w-100 d-flex align-items-center" src="{{ asset(app_games_images_directory~instance.game.image) }}" style="object-fit: cover;max-height: 100%;" alt="{{instance.title}}">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Feature End -->


    
{% endblock %}
