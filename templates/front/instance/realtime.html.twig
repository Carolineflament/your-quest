{% extends 'base.html.twig' %}

{% block title %}Positions - {{ instance.title }}{% endblock %}

{% block body %}

    {{ include('_header_start.html.twig', {'title': game.title}) }}

    <div class="container-fluid bg-light px-lg-0" style="margin: 3rem 0;">
        <div class="container-xl p-5">
          <div class="section-title text-center mt-4">
            <h2 class="display-5 mb-2">Positions des joueurs</h2>
            <h3>{{instance.title}}</h3>
            <h6>Session débutée le {{ instance.startAt|date('d-m-Y')}} à {{instance.startAt|date('H:i')}}</h6>
          </div>
        </div>
        <div class="container m-auto">
                <h3 class="display-7 ms-2 ">Dernière position des joueurs</h3>
                <div class="table-responsive">
                    <table class="table text-nowrap mmb-5">
                    <thead>
                        <tr>
                            <th scope="col">Checkpoint</th>
                            <th scope="col">Joueurs</th>
                        </tr>
                    </thead>
                
                    <tbody> 
                        {# Boucle sur les checkpoints du jeu #}                
                        {% for key, value in checkpointsDatas %}     
                            <tr>
                                <td>N° {{ loop.index }} - {{ key }}</td>
                                <td> 
                                {% if value %}
                                                            
                                    {% for player in value %}      
                                        <ul class="list-unstyled">
                                            <li>{{ player.pseudo }}</li>
                                        </ul>
                                    {% endfor %}
                                
                                
                                {% endif %}                       
                                </td>
                            </tr> 
                        {% endfor %}
                                    
                    </tbody>
                </table> 
            </div>    
        </div>
    </div>
{% endblock %}
