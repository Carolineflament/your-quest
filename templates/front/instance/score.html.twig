{% extends 'base.html.twig' %}

{% block title %}{{ instance.title }}{% endblock %}

{% block body %}
{{ include('front/_notice_message.html.twig') }}
<div class="container-xl p-5">
      <div class="row">
        <h1 class="text-muted fw-bold mb-4 text-center h1">Résultat du jeu {{game.title}}</h1>     
      </div>  

      <div class="row">
            <h3 class="text-muted fw-bold mb-4 text-center h3">Instance {{instance.title}} du {{ instance.startAt|date('d-m-Y')}}</h3>
      </div>      

      <div class="card-list mt-4">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th scope="col">Classement</th>
              <th scope="col">Pseudo du joueur</th>
              <th scope="col">Temps réalisé</th>
            </tr>
          </thead>

          <tbody>
              {% for key, duration in orderedDurations %}
              <tr scope="row">
                    <td>{{ key + 1 }}</td>
                    <td>{{ roundsList[key].user.pseudo }}</td>                   
                    <td>{{ duration }}</td>
              {% endfor %} 
              </tr>  
          </tbody> 
        </table>          
      </div>

      <div class="card-list mt-4">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th scope="col">Joueurs ayant participé, mais sans terminer le parcours</th>
            </tr>
          </thead>

          <tbody>
              {% for round in roundsList %}
              <tr scope="row">
                {% if round.endAt is same as(null) %}
                    <td>{{ round.user.pseudo }}</td>                   
                {% endif %}
              {% endfor %} 
              </tr>  
          </tbody> 
        </table>          
      </div>              
               
        

   
</div>
     
{% endblock %}  