{% extends 'base.html.twig' %}

{% block title %}Mon compte{% endblock %}

{% block body %}
    <div class="d-flex justify-content-center align-items-center mt-3 mb-3">
        <div class="col-xl-6  text-center">
            <h1>Votre profil : {{ user.email }}</h1>
            {{ include('front/_notice_message.html.twig') }}
        {{ form_start(form) }}
            <div class="form-error mb-3">
                {{ form_errors(form.password) }}
                {{ form_errors(form.username) }}
                {{ form_errors(form.lastname) }}
                {{ form_errors(form.firstname) }}
                {% if is_granted('ROLE_ORGANISATEUR') %}
                    {{ form_errors(form.address) }}
                    {{ form_errors(form.postalCode) }}
                    {{ form_errors(form.city) }}
                {% endif %}
            </div>
            <div class="row g-3 align-items-center">
                <div class="col form-floating mb-3">
                    {{ form_widget(form.username) }}
                    {{ form_label(form.username) }}
                </div>

                <div class="col form-floating mb-3">
                    {{ form_widget(form.password) }}
                    {{ form_label(form.password) }}
                </div>
            </div>
                
            <div class="row g-3 align-items-center">
                <div class="col form-floating mb-3">
                    {{ form_widget(form.lastname) }}
                    {{ form_label(form.lastname) }}
                </div>

                <div class="col form-floating mb-3">
                    {{ form_widget(form.firstname) }}
                    {{ form_label(form.firstname) }}
                </div>
            </div>

            {% if is_granted('ROLE_ORGANISATEUR') %}
                <div class="form-floating mb-3">
                    {{ form_widget(form.address) }}
                    {{ form_label(form.address) }}
                </div>

                <div class="form-floating mb-3">
                    {{ form_widget(form.postalCode) }}
                    {{ form_label(form.postalCode) }}
                </div>

                <div class="form-floating mb-3">
                    {{ form_widget(form.city) }}
                    {{ form_label(form.city) }}
                </div>
            {% endif %}
                
            <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                <button class="btn btn-success">{{ button_label|default('Enregistrer') }}</button>
            </div>
        {{ form_end(form) }}
    </div>
</div>

{% endblock %}
